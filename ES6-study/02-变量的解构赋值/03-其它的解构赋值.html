<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>其它的解构赋值</title>
</head>
<body>
<script type="text/javascript">
    //字符串的解构赋值 把字符串转换为类似数组的对象
    const [a, b, c, d, e] = 'hello';
    //h e l l o

    //类似数组的对象都有一个length属性, 因此还可以对这个属性进行结构赋值
    let {length} = 'hello' // 5 对象结构用属性名名字
    // let [length] = 'hello' //length h 数组结构用顺序


    //数值和布尔值的解构
    //如果等号右边是数值和布尔值，则会先转为对象。
    let {toString: s} = 123
    //s === Number.prototype.toString true

    let {toString: sb} = true
    //sb === Boolean.prototype.toString true

    //undefined和null进行解构赋值会报错

    // 函数参数的解构赋值
    //例1
    function add([x, y]) {
        return x + y
    }

    add([1, 2]);//3

    // 在传入参数的那一刻，数组参数就被解构成变量x和y。对于函数内部的代码来说，它们能感受到的参数就是x和y。
    //例二
    [[1, 2], [3, 4]].map(([a, b]) => a + b)//[3,7]

    // 函数参数的解构也可以使用默认值
    function move({x = 0, y = 0} = {}) {
        return [x, y];
    }

    move({x: 3, y: 4})
    move({x: 3})
    move({})
    move();
    /*  [3,4]
        [3]
        [0,0]
        [0,0]*/


    //undefined会促发函数参数的默认值
    let arr = [];
    [1, undefined, 2].forEach(function (x = 'yes') {
        this.push(x)
    }, arr)
    //[1,'yes',2]
    //此处不能再用箭头函数


</script>
</body>
</html>